import{_ as i,o,c as r,a as s,F as l,r as h,t as n,w as _}from"./index-7814053e.js";const u={data(){return{views:[],userId:null}},methods:{render(e){this.axios.get(`https://two023-js-week0-server.onrender.com/collects?userId=${e}`).then(c=>{this.views=c.data})},removeCollect(e){this.axios.delete(`https://two023-js-week0-server.onrender.com/collects/${e}`).then(()=>{alert("成功移除"),this.render(this.userId)}).catch(()=>{alert("移除失敗")})}},mounted(){const e=document.cookie.replace(/(?:(?:^|.*;\s*)userId\s*=\s*([^;]*).*$)|^.*$/,"$1");this.userId=e,e?this.render(e):this.$router.push("/")}},m={class:"container mt-5"},p=s("h1",null,"我的收藏",-1),$={class:"row row-cols-2 row-cols-md-3 g-4 list-unstyled"},f={class:"card h-100"},v={class:"card-body"},w={class:"card-title"},k={class:"card-text"},x={class:"card-footer"},I=["onClick"];function y(e,c,C,g,d,a){return o(),r("div",m,[p,s("ul",$,[(o(!0),r(l,null,h(d.views,t=>(o(),r("li",{class:"col",key:t.id},[s("div",f,[s("div",v,[s("h5",w,n(t.name),1),s("p",k,n(t.description),1)]),s("div",x,[s("a",{href:"#",class:"btn btn-primary",onClick:_(b=>a.removeCollect(t.id),["prevent"])},"移除收藏",8,I)])])]))),128))])])}const j=i(u,[["render",y]]);export{j as default};
