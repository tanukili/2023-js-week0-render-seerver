import{_ as c,o as m,c as u,a as e,d as l,v as d,w as p}from"./index-7814053e.js";const _={data(){return{user:{email:"",password:""}}},methods:{login(){this.axios.post("https://two023-js-week0-server.onrender.com/login",this.user).then(o=>{alert("登入成功");const{accessToken:s}=o.data,{id:a,role:i}=o.data.user;document.cookie=`userToken=${s}; max-age=43200`,document.cookie=`userId=${a}; max-age=43200`,document.cookie=`role=${i}; max-age=43200`,window.location.href="/"}).catch(o=>{console.log(o.response),alert(`登入失敗：${o.response.data}`)})}}},w={class:"container mt-5"},h=e("h1",null,"登入",-1),f={action:"#"},g={class:"mb-3"},k=e("label",{for:"email",class:"me-2"},"信箱",-1),v={class:"mb-3"},x=e("label",{for:"password",class:"me-2"},"密碼",-1);function b(o,s,a,i,n,r){return m(),u("div",w,[h,e("form",f,[e("div",g,[k,l(e("input",{type:"email",id:"email","onUpdate:modelValue":s[0]||(s[0]=t=>n.user.email=t)},null,512),[[d,n.user.email]])]),e("div",v,[x,l(e("input",{type:"password",id:"password","onUpdate:modelValue":s[1]||(s[1]=t=>n.user.password=t)},null,512),[[d,n.user.password]])]),e("input",{type:"submit",class:"btn btn-primary",value:"登入",onClick:s[2]||(s[2]=p((...t)=>r.login&&r.login(...t),["prevent"]))})])])}const V=c(_,[["render",b]]);export{V as default};
